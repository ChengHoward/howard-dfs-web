<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../../static/layui/assets/libs/layui/css/layui.css"/>
    <link rel="stylesheet" href="../../static/layui/assets/css/login.css?v=314">
    <link rel="stylesheet" href="../../static/layui/assets/module/admin.css?v=314">
</head>
<body>
<div class="layui-fluid">
    <div class="layui-col-lg12">
        <div class="layui-card">
            <div class="layui-card-header">运行日志</div>
            <div class="layui-card-body">
                <ul class="layui-timeline" id="log_content">
                </ul>
            </div>
        </div>
    </div>
</div>
<!-- js部分 -->
<script type="text/javascript" src="../../static/jQuery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../static/layui/assets/libs/layui/layui.js"></script>
<script type="text/javascript" src="../../static/layui/assets/js/common.js?v=314"></script>
</body>
</html>

<script>
    $.ajax({
        url: 'log.json',
        type: 'POST',
        data: {},
        dataType: 'json',
        success: function (res) {
            if (res.status) {
                res.datas.forEach(function (e,i) {
                    $("#log_content").append('\n' +
                        '<li class="layui-timeline-item">\n' +
                        '    <i class="layui-icon layui-timeline-axis">&#xe63f;</i>\n' +
                        '    <div class="layui-timeline-content layui-text">\n' +
                        '        <h3 class="layui-timeline-title">\n' +
                        '            <small>'+e.task_name+'</small>&emsp;\n' +
                        '            <span class="layui-badge-rim">'+e.task_time+'</span>\n' +
                        '        </h3>\n' +
                        '        <ul>\n' +
                        '            <li>任务ID:'+e.id+'</li>\n' +
                        '            <li>任务类型:'+e.task_type+'</li>\n' +
                        '            <li>开发者日志:'+e.task_status+'  '+e.msg+'</li>\n' +
                        '        </ul>\n' +
                        '    </div>\n' +
                        '</li>')
                })

            } else {
            }
        },
        error: function () {
        },
        complete: function () {
        }
    });
</script>
